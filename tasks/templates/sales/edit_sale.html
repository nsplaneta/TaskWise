{% extends 'global/base.html' %}

{% block title %}Edit Sale{% endblock %}

{% block sidebar %}
    {% include 'global/sidebar.html' %}
{% endblock %}

{% block content %}

{% include 'global/top_menu.html' %}

<!-- Content -->
<div class="container mt-5">
    <div class="card light-shadow">
        <div class="card-header card-title"> 
            <strong>Edit Sale #{{ sale.id }}</strong>
        </div>
        <div class="card-body">
            <form id="saleForm" method="post" action="" class="col-md-12">
                {% csrf_token %}
                <div class="list-group list-group-flush">
                    <div class="list-group-item">
                        {{ form.status.label_tag }}
                        {{ form.status }}
                    </div>
                </div>
                
                <!-- Render the formset for SaleProduct -->
                {{ formset.management_form }}
                {% for product_form in formset %}
                    <div class="list-group list-group-flush">
                        <div class="list-group-item">
                            {{ product_form }}
                        </div>
                    </div>
                {% endfor %}
                
                <div class="list-group-item text-center">
                    <button type="submit" class="btn btn-primary">Save Changes</button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}
